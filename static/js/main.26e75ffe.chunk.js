(this["webpackJsonpmovie-appui"]=this["webpackJsonpmovie-appui"]||[]).push([[0],{175:function(e,t,c){},177:function(e,t,c){},229:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c(40),r=c.n(i),a=(c(175),c(176),c(44)),o=c(45),s=c(56),j=c(55),d=(c(177),c(13)),l=c(81),h=c(250),b=c(59),u=c(248),O=c(160),v=c(37),m=c(4),p=function(e,t){return Object(m.jsxs)(h.a.Group,{children:[Object(m.jsxs)(h.a,{animated:!0,as:v.b,to:"/movie/".concat(e),children:[Object(m.jsx)(h.a.Content,{visible:!0,children:"Edit"}),Object(m.jsx)(h.a.Content,{hidden:!0,children:Object(m.jsx)(b.a,{name:"edit"})})]}),Object(m.jsxs)(h.a,{animated:"vertical",onClick:function(){return t(e)},children:[Object(m.jsx)(h.a.Content,{visible:!0,children:"Delete"}),Object(m.jsx)(h.a.Content,{hidden:!0,children:Object(m.jsx)(b.a,{name:"trash"})})]})]})},x=function(e){var t=e.movie,c=e.deleteMovie;return Object(m.jsxs)(u.a,{children:[Object(m.jsx)(O.a,{src:t.cover,wrapped:!0,ui:!1}),Object(m.jsxs)(u.a.Content,{children:[Object(m.jsx)(u.a.Header,{children:t.title}),Object(m.jsx)(u.a.Meta,{children:Object(m.jsx)("span",{className:"date",children:t.year})}),Object(m.jsx)(u.a.Description,{children:t.category})]}),Object(m.jsx)(u.a.Content,{extra:!0,children:Object(m.jsxs)("a",{children:[Object(m.jsx)(b.a,{name:"user"}),t.imdb_score]})}),Object(m.jsx)(u.a.Content,{extra:!0,children:p(t.id,c)})]})},f=c(251);var E=function(e){var t=e.movies,c=e.deleteMovie,n=Object(m.jsx)(f.a,{children:Object(m.jsx)(f.a.Row,{columns:3,children:t.map((function(e){return Object(m.jsx)(f.a.Column,{children:Object(m.jsx)(x,{movie:e,deleteMovie:c})},e.id)}))})}),i=Object(m.jsx)("div",{children:"There are no movies yet..."});return Object(m.jsx)("div",{children:0===t.length?i:n})},g=c(66),M=c.n(g),I="https://6059f211b11aba001745d2a0.mockapi.io",C="FETCHED_MOVIES_PENDING",S="FETCHED_MOVIES_FULFILLED",y="FETCHED_MOVIES_REJECTED",T="DELETE_MOVIES_PENDING",_="DELETE_MOVIES_FULFILLED",F="DELETE_MOVIES_REJECTED";var k=c(155),D=function(e){Object(s.a)(c,e);var t=Object(j.a)(c);function c(){return Object(a.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.props.fetchMovies()}},{key:"render",value:function(){var e=this.props.moviesReducer.error.message;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Movie List"}),Object(m.jsx)(k.HashLoader,{margin:2,color:"#3BC2A7",loading:this.props.moviesReducer.fetching}),e?Object(m.jsxs)("h3",{children:["data error (",e,")"]}):Object(m.jsx)(E,{movies:this.props.moviesReducer.movies,deleteMovie:this.props.onDeleteMovieSubmit})]})}}]),c}(n.Component),L={fetchMovies:function(){return function(e){e({type:"FETCHED_MOVIES",payload:M.a.get("".concat(I,"/movies")).then((function(e){return e.data}))})}},onDeleteMovieSubmit:function(e){return function(t){t({type:"DELETE_MOVIES",payload:M.a.delete("".concat(I,"/movies/").concat(e)).then((function(t){return Object.assign({},t,{id:e})}))})}}},w=Object(l.b)((function(e){return{moviesReducer:e.moviesReducer}}),L)(D),R=c(242),V=c(246),U=c(243),N={border:"none",borderRadius:0,boxShadow:"none",marginBottom:"1em",marginTop:"1em",transition:"box-shadow 0.5s ease, padding 0.5s ease"},P={backgroundColor:"#fff",border:"1px solid #ddd",boxShadow:"0px 3px 5px rgba(0, 0, 0, 0.2)"},H=function(e){Object(s.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(a.a)(this,c);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={menuFixed:!1,overlayFixed:!1},e.stickOverlay=function(){return e.setState({overlayFixed:!0})},e.stickTopMenu=function(){return e.setState({menuFixed:!0})},e.unStickOverlay=function(){return e.setState({overlayFixed:!1})},e.unStickTopMenu=function(){return e.setState({menuFixed:!1})},e}return Object(o.a)(c,[{key:"render",value:function(){var e=this.state.menuFixed;return Object(m.jsx)("div",{children:Object(m.jsx)(R.a,{onBottomPassed:this.stickTopMenu,onBottomVisible:this.unStickTopMenu,once:!1,children:Object(m.jsx)(V.a,{borderless:!0,fixed:e?"top":void 0,style:e?P:N,children:Object(m.jsxs)(U.a,{text:!0,children:[Object(m.jsx)(V.a.Item,{as:v.b,to:"/",children:Object(m.jsx)(O.a,{size:"mini",src:"https://react.semantic-ui.com/logo.png"})}),Object(m.jsx)(V.a.Item,{as:v.c,to:"/",header:!0,exact:!0,children:"MovieApp"}),Object(m.jsx)(V.a.Item,{as:v.c,to:"/movies",exact:!0,children:"Movies"}),Object(m.jsx)(V.a.Item,{as:v.c,to:"/movies/new",exact:!0,children:"Add Movie"})]})})})})}}]),c}(n.Component),A=c(252),G=c(253),J=c(247),B=c(244);var W=function(e){return Object(m.jsx)("div",{children:Object(m.jsx)(A.a,{inverted:!0,style:{margin:"5em 0em 0em",padding:"5em 0em"},vertical:!0,children:Object(m.jsxs)(U.a,{textAlign:"center",children:[Object(m.jsx)(f.a,{columns:4,divided:!0,stackable:!0,inverted:!0,children:Object(m.jsxs)(f.a.Row,{children:[Object(m.jsxs)(f.a.Column,{children:[Object(m.jsx)(G.a,{inverted:!0,as:"h4",content:"Group 1"}),Object(m.jsxs)(J.a,{link:!0,inverted:!0,children:[Object(m.jsx)(J.a.Item,{as:"a",children:"Link One"}),Object(m.jsx)(J.a.Item,{as:"a",children:"Link Two"}),Object(m.jsx)(J.a.Item,{as:"a",children:"Link Three"}),Object(m.jsx)(J.a.Item,{as:"a",children:"Link Four"})]})]}),Object(m.jsxs)(f.a.Column,{children:[Object(m.jsx)(G.a,{inverted:!0,as:"h4",content:"Group 2"}),Object(m.jsxs)(J.a,{link:!0,inverted:!0,children:[Object(m.jsx)(J.a.Item,{as:"a",children:"Link One"}),Object(m.jsx)(J.a.Item,{as:"a",children:"Link Two"}),Object(m.jsx)(J.a.Item,{as:"a",children:"Link Three"}),Object(m.jsx)(J.a.Item,{as:"a",children:"Link Four"})]})]}),Object(m.jsxs)(f.a.Column,{children:[Object(m.jsx)(G.a,{inverted:!0,as:"h4",content:"Group 3"}),Object(m.jsxs)(J.a,{link:!0,inverted:!0,children:[Object(m.jsx)(J.a.Item,{as:"a",children:"Link One"}),Object(m.jsx)(J.a.Item,{as:"a",children:"Link Two"}),Object(m.jsx)(J.a.Item,{as:"a",children:"Link Three"}),Object(m.jsx)(J.a.Item,{as:"a",children:"Link Four"})]})]}),Object(m.jsxs)(f.a.Column,{children:[Object(m.jsx)(G.a,{inverted:!0,as:"h4",content:"Footer Header"}),Object(m.jsx)("p",{children:"Extra space for a call to action inside the footer that could help re-engage users."})]})]})}),Object(m.jsx)(B.a,{inverted:!0,section:!0}),Object(m.jsx)(O.a,{src:"https://react.semantic-ui.com/logo.png",centered:!0,size:"mini"}),Object(m.jsxs)(J.a,{horizontal:!0,inverted:!0,divided:!0,link:!0,size:"small",children:[Object(m.jsx)(J.a.Item,{as:"a",href:"#",children:"Site Map"}),Object(m.jsx)(J.a.Item,{as:"a",href:"#",children:"Contact Us"}),Object(m.jsx)(J.a.Item,{as:"a",href:"#",children:"Terms and Conditions"}),Object(m.jsx)(J.a.Item,{as:"a",href:"#",children:"Privacy Policy"})]})]})})})},z=c(10),q=c(118),K=c(249),Q=c(245),X=c(120);var Y=function(e){var t=e.message;return Object(m.jsx)("div",{children:Object(m.jsx)(X.a,{basic:!0,color:"red",pointing:!0,children:t})})},Z="NEW_MOVIES_PENDING",$="NEW_MOVIES_FULFILLED",ee="NEW_MOVIES_REJECTED",te="FETCH_MOVIES_PENDING",ce="FETCH_MOVIES_FULFILLED",ne="FETCH_MOVIES_REJECTED",ie="UPDATE_MOVIES_PENDING",re="UPDATE_MOVIES_FULFILLED",ae="UPDATE_MOVIES_REJECTED";var oe={fetching:!1,fetched:!1,movies:[],error:{}},se=function(e){Object(s.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(a.a)(this,c);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={title:e.props.willUpdateMovie?e.props.willUpdateMovie.title:"",cover:e.props.willUpdateMovie?e.props.willUpdateMovie.cover:"",errors:{},redirect:!1},e.handleChange=function(t){e.setState(Object(q.a)({},t.target.name,t.target.value))},e.onSubmit=function(){var t=e.validate();if(e.setState({errors:t}),0===Object.keys(t).length){var c=e.props.match.params._id;c?(console.log(c,"else"),e.props.onUpdateMoviesSubmit(Object(z.a)(Object(z.a)({},e.state),{},{id:c}))):e.props.onNewMovieSubmit(e.state),e.setState({redirect:!0})}},e.validate=function(){var t={};return e.state.title||(t.title="Can't be null(Title)"),e.state.cover||(t.cover="Can't be null (Cover)"),t},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this.props,t=e.willUpdateMovie,c=e.match;!t&&c.params._id&&this.props.fetchMovie(c.params._id)}},{key:"componentWillReceiveProps",value:function(e){var t=e.newMovieReducer;t.movies.data&&this.setState({title:t.movies.data.title,cover:t.movies.data.cover})}},{key:"render",value:function(){var e=this.state.errors,t=Object(m.jsxs)(K.a,{negative:!0,children:[Object(m.jsx)(K.a.Header,{children:"Error: "}),Object(m.jsx)("p",{children:"To upload this movie"})]}),c=Object(m.jsxs)(Q.a,{onSubmit:this.onSubmit,loading:this.props.newMovieReducer.fethcing,children:[Object(m.jsxs)(Q.a.Field,{error:!!e.title,children:[Object(m.jsx)("label",{children:"Title"}),Object(m.jsx)("input",{id:"title",name:"title",value:this.state.title,onChange:this.handleChange,placeholder:"Title"}),e.title&&Object(m.jsx)(Y,{message:e.title})]}),Object(m.jsxs)(Q.a.Field,{error:!!e.cover,children:[Object(m.jsx)("label",{children:"Cover Img Url"}),Object(m.jsx)("input",{id:"cover",name:"cover",value:this.state.cover,onChange:this.handleChange,placeholder:"Cover Img Url"}),e.cover&&Object(m.jsx)(Y,{message:e.cover})]}),Object(m.jsx)(Q.a.Field,{children:Object(m.jsx)(O.a,{src:this.state.cover,size:"small"})}),Object(m.jsx)(h.a,{color:"blue",type:"submit",children:"Submit"}),this.props.newMovieReducer.error.response&&t]});return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"New Movie Form"}),this.props.newMovieReducer.fetched&&this.state.redirect?Object(m.jsx)(d.a,{to:"/movies"}):c]})}}]),c}(n.Component),je={onNewMovieSubmit:function(e){var t=e.title,c=e.cover;return function(e){e({type:"NEW_MOVIES",payload:M.a.post("".concat(I,"/movies"),{title:t,cover:c}).then((function(e){return e}))})}},fetchMovie:function(e){return function(t){t({type:"FETCH_MOVIES",payload:M.a.get("".concat(I,"/movies/").concat(e))})}},onUpdateMoviesSubmit:function(e){var t=e.title,c=e.cover,n=e.id;return console.log(n,"action"),function(e){e({type:"UPDATE_MOVIES",payload:M.a.put("".concat(I,"/movies/").concat(n),{title:t,cover:c})})}}},de=Object(l.b)((function(e,t){return{newMovieReducer:e.newMovieReducer,willUpdateMovie:e.moviesReducer.movies.find((function(e){return e.id===t.match.params._id}))}}),je)(se),le=function(e){Object(s.a)(c,e);var t=Object(j.a)(c);function c(){return Object(a.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)(H,{}),Object(m.jsxs)(U.a,{text:!0,children:[Object(m.jsx)(d.b,{exact:!0,path:"/movies",component:w}),Object(m.jsx)(d.b,{exact:!0,path:"/movies/new",component:de}),Object(m.jsx)(d.b,{exact:!0,path:"/movie/:_id",component:de})]}),Object(m.jsx)(W,{})]})}}]),c}(n.Component),he=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,254)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),r(e),a(e)}))},be=c(46),ue={fetching:!1,fetched:!1,movies:[],error:{}},Oe=Object(be.combineReducers)({moviesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case C:return Object(z.a)(Object(z.a)({},e),{},{fetching:!0,fetched:!1});case S:return Object(z.a)(Object(z.a)({},e),{},{movies:n,fetching:!1,fetched:!0});case y:return Object(z.a)(Object(z.a)({},e),{},{error:n,fetching:!1,fetched:!0});case T:return Object(z.a)(Object(z.a)({},e),{},{fetching:!0,fetched:!1});case _:return Object(z.a)(Object(z.a)({},e),{},{movies:e.movies.filter((function(e){return e.id!==n.id})),fetching:!1,fetched:!0});case F:return Object(z.a)(Object(z.a)({},e),{},{error:n,fetching:!1,fetched:!0});default:return e}},newMovieReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case Z:return Object(z.a)(Object(z.a)({},e),{},{fetching:!0,fetched:!1});case $:return Object(z.a)(Object(z.a)({},e),{},{movies:n,fetching:!1,fetched:!0});case ee:return Object(z.a)(Object(z.a)({},e),{},{error:n,fetching:!1,fetched:!0});case te:return Object(z.a)(Object(z.a)({},e),{},{fetching:!0,fetched:!1});case ce:return Object(z.a)(Object(z.a)({},e),{},{movies:n,fetching:!1,fetched:!0});case ne:return Object(z.a)(Object(z.a)({},e),{},{error:n,fetching:!1,fetched:!0});case ie:return Object(z.a)(Object(z.a)({},e),{},{fetching:!0,fetched:!1});case re:return Object(z.a)(Object(z.a)({},e),{},{movies:n,fetching:!1,fetched:!0});case ae:return Object(z.a)(Object(z.a)({},e),{},{error:n,fetching:!1,fetched:!0});default:return e}}}),ve=c(156),me=c(157),pe=c(158),xe=c.n(pe),fe=c(159),Ee=Object(be.createStore)(Oe,Object(me.composeWithDevTools)(Object(be.applyMiddleware)(ve.a,fe.a,xe.a)));r.a.render(Object(m.jsx)(v.a,{children:Object(m.jsx)(l.a,{store:Ee,children:Object(m.jsx)(le,{})})}),document.getElementById("root")),he()}},[[229,1,2]]]);
//# sourceMappingURL=main.26e75ffe.chunk.js.map