(this["webpackJsonpmovie-appui"]=this["webpackJsonpmovie-appui"]||[]).push([[0],{175:function(e,t,c){},177:function(e,t,c){},229:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c(40),r=c.n(i),a=(c(175),c(176),c(45)),o=c(46),s=c(57),d=c(56),j=(c(177),c(13)),l=c(81),b=c(251),h=c(41),u=c(249),v=c(160),O=c(24),p=c(4),m=function(e,t){return Object(p.jsxs)(b.a.Group,{children:[Object(p.jsxs)(b.a,{animated:!0,as:O.b,to:"/movie/".concat(e),children:[Object(p.jsx)(b.a.Content,{visible:!0,children:"Edit"}),Object(p.jsx)(b.a.Content,{hidden:!0,children:Object(p.jsx)(h.a,{name:"edit"})})]}),Object(p.jsxs)(b.a,{animated:"vertical",onClick:function(){return t(e)},children:[Object(p.jsx)(b.a.Content,{visible:!0,children:"Delete"}),Object(p.jsx)(b.a.Content,{hidden:!0,children:Object(p.jsx)(h.a,{name:"trash"})})]})]})},x=function(e){var t=e.movie,c=e.deleteMovie;return Object(p.jsxs)(u.a,{children:[Object(p.jsx)(v.a,{src:t.cover,wrapped:!0,ui:!1}),Object(p.jsxs)(u.a.Content,{children:[Object(p.jsx)(u.a.Header,{children:t.title}),Object(p.jsx)(u.a.Meta,{children:Object(p.jsx)("span",{className:"date",children:t.year})}),Object(p.jsx)(u.a.Description,{children:t.category})]}),Object(p.jsx)(u.a.Content,{extra:!0,children:Object(p.jsxs)("a",{children:[Object(p.jsx)(h.a,{name:"user"}),t.imdb_score]})}),Object(p.jsx)(u.a.Content,{extra:!0,children:m(t.id,c)})]})},f=c(252);var E=function(e){var t=e.movies,c=e.deleteMovie,n=Object(p.jsx)(f.a,{children:Object(p.jsx)(f.a.Row,{columns:3,children:t.map((function(e){return Object(p.jsx)(f.a.Column,{children:Object(p.jsx)(x,{movie:e,deleteMovie:c})},e.id)}))})}),i=Object(p.jsx)("div",{children:"There are no movies yet..."});return Object(p.jsx)("div",{children:0===t.length?i:n})},g=c(68),M=c.n(g),S="https://6059f211b11aba001745d2a0.mockapi.io",y="FETCHED_MOVIES_PENDING",C="FETCHED_MOVIES_FULFILLED",I="FETCHED_MOVIES_REJECTED",_="DELETE_MOVIES_PENDING",D="DELETE_MOVIES_FULFILLED",T="DELETE_MOVIES_REJECTED";var F=c(155),w=function(e){Object(s.a)(c,e);var t=Object(d.a)(c);function c(){return Object(a.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.props.fetchMovies()}},{key:"render",value:function(){var e=this.props.moviesReducer.error.message;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"Movie List"}),Object(p.jsx)(F.HashLoader,{margin:2,color:"#3BC2A7",loading:this.props.moviesReducer.fetching}),e?Object(p.jsxs)("h3",{children:["data error (",e,")"]}):Object(p.jsx)(E,{movies:this.props.moviesReducer.movies,deleteMovie:this.props.onDeleteMovieSubmit})]})}}]),c}(n.Component),R={fetchMovies:function(){return function(e){e({type:"FETCHED_MOVIES",payload:M.a.get("".concat(S,"/movies")).then((function(e){return e.data}))})}},onDeleteMovieSubmit:function(e){return function(t){t({type:"DELETE_MOVIES",payload:M.a.delete("".concat(S,"/movies/").concat(e)).then((function(t){return Object.assign({},t,{id:e})}))})}}},L=Object(l.b)((function(e){return{moviesReducer:e.moviesReducer}}),R)(w),k=c(242),V=c(247),N=c(243),U={border:"none",borderRadius:0,boxShadow:"none",marginBottom:"1em",marginTop:"1em",transition:"box-shadow 0.5s ease, padding 0.5s ease"},A={backgroundColor:"#fff",border:"1px solid #ddd",boxShadow:"0px 3px 5px rgba(0, 0, 0, 0.2)"},P=function(e){Object(s.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(a.a)(this,c);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={menuFixed:!1,overlayFixed:!1},e.stickOverlay=function(){return e.setState({overlayFixed:!0})},e.stickTopMenu=function(){return e.setState({menuFixed:!0})},e.unStickOverlay=function(){return e.setState({overlayFixed:!1})},e.unStickTopMenu=function(){return e.setState({menuFixed:!1})},e}return Object(o.a)(c,[{key:"render",value:function(){var e=this.state.menuFixed;return Object(p.jsx)("div",{children:Object(p.jsx)(k.a,{onBottomPassed:this.stickTopMenu,onBottomVisible:this.unStickTopMenu,once:!1,children:Object(p.jsx)(V.a,{borderless:!0,fixed:e?"top":void 0,style:e?A:U,children:Object(p.jsxs)(N.a,{text:!0,children:[Object(p.jsx)(V.a.Item,{as:O.b,to:"/",children:Object(p.jsx)(v.a,{size:"mini",src:"https://react.semantic-ui.com/logo.png"})}),Object(p.jsx)(V.a.Item,{as:O.c,to:"/",header:!0,exact:!0,children:"MovieApp"}),Object(p.jsx)(V.a.Item,{as:O.c,to:"/movies",exact:!0,children:"Movies"}),Object(p.jsx)(V.a.Item,{as:O.c,to:"/movies/new",exact:!0,children:"Add Movie"})]})})})})}}]),c}(n.Component),H=c(253),B=c(254),J=c(248),G=c(244);var W=function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(H.a,{inverted:!0,style:{margin:"5em 0em 0em",padding:"5em 0em"},vertical:!0,children:Object(p.jsxs)(N.a,{textAlign:"center",children:[Object(p.jsx)(f.a,{columns:2,divided:!0,stackable:!0,inverted:!0,children:Object(p.jsxs)(f.a.Row,{children:[Object(p.jsxs)(f.a.Column,{children:[Object(p.jsx)(B.a,{inverted:!0,as:"h4",content:"------"}),Object(p.jsxs)(J.a,{link:!0,inverted:!0,children:[Object(p.jsx)(J.a.Item,{as:O.b,to:"/",children:"Home"}),Object(p.jsx)(J.a.Item,{as:O.b,to:"/movies",children:"Movies"}),Object(p.jsx)(J.a.Item,{as:O.b,to:"/movies/new",children:"Add Movie"})]})]}),Object(p.jsxs)(f.a.Column,{children:[Object(p.jsx)(B.a,{inverted:!0,as:"h4",content:"Movie INC"}),Object(p.jsx)("p",{children:"ADDRESS: 123 Main street NY Brooklyn"})]})]})}),Object(p.jsx)(G.a,{inverted:!0,section:!0}),Object(p.jsx)(J.a,{horizontal:!0,inverted:!0,divided:!0,link:!0,size:"small",children:Object(p.jsxs)("p",{children:["\xa9",(new Date).getFullYear()," MOVIEApp INC | All rights reserved | Terms Of Service | Privacy."]})})]})})})},z=c(10),Y=c(118),Z=c(250),$=c(246),q=c(120);var K=function(e){var t=e.message;return Object(p.jsx)("div",{children:Object(p.jsx)(q.a,{basic:!0,color:"red",pointing:!0,children:t})})},Q="NEW_MOVIES_PENDING",X="NEW_MOVIES_FULFILLED",ee="NEW_MOVIES_REJECTED",te="FETCH_MOVIES_PENDING",ce="FETCH_MOVIES_FULFILLED",ne="FETCH_MOVIES_REJECTED",ie="UPDATE_MOVIES_PENDING",re="UPDATE_MOVIES_FULFILLED",ae="UPDATE_MOVIES_REJECTED";var oe={fetching:!1,fetched:!1,movies:[],error:{}},se=function(e){Object(s.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(a.a)(this,c);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={title:e.props.willUpdateMovie?e.props.willUpdateMovie.title:"",cover:e.props.willUpdateMovie?e.props.willUpdateMovie.cover:"",errors:{},redirect:!1},e.handleChange=function(t){e.setState(Object(Y.a)({},t.target.name,t.target.value))},e.onSubmit=function(){var t=e.validate();if(e.setState({errors:t}),0===Object.keys(t).length){var c=e.props.match.params._id;c?(console.log(c,"else"),e.props.onUpdateMoviesSubmit(Object(z.a)(Object(z.a)({},e.state),{},{id:c}))):e.props.onNewMovieSubmit(e.state),e.setState({redirect:!0})}},e.validate=function(){var t={};return e.state.title||(t.title="Can't be null(Title)"),e.state.cover||(t.cover="Can't be null (Cover)"),t},e}return Object(o.a)(c,[{key:"componentDidMount",value:function(){var e=this.props,t=e.willUpdateMovie,c=e.match;!t&&c.params._id&&this.props.fetchMovie(c.params._id)}},{key:"componentWillReceiveProps",value:function(e){var t=e.newMovieReducer;t.movies.data&&this.setState({title:t.movies.data.title,cover:t.movies.data.cover})}},{key:"render",value:function(){var e=this.state.errors,t=Object(p.jsxs)(Z.a,{negative:!0,children:[Object(p.jsx)(Z.a.Header,{children:"Error: "}),Object(p.jsx)("p",{children:"To upload this movie"})]}),c=Object(p.jsxs)($.a,{onSubmit:this.onSubmit,loading:this.props.newMovieReducer.fethcing,children:[Object(p.jsxs)($.a.Field,{error:!!e.title,children:[Object(p.jsx)("label",{children:"Title"}),Object(p.jsx)("input",{id:"title",name:"title",value:this.state.title,onChange:this.handleChange,placeholder:"Title"}),e.title&&Object(p.jsx)(K,{message:e.title})]}),Object(p.jsxs)($.a.Field,{error:!!e.cover,children:[Object(p.jsx)("label",{children:"Cover Img Url"}),Object(p.jsx)("input",{id:"cover",name:"cover",value:this.state.cover,onChange:this.handleChange,placeholder:"Cover Img Url"}),e.cover&&Object(p.jsx)(K,{message:e.cover})]}),Object(p.jsx)($.a.Field,{children:Object(p.jsx)(v.a,{src:this.state.cover,size:"small"})}),Object(p.jsx)(b.a,{color:"blue",type:"submit",children:"Submit"}),this.props.newMovieReducer.error.response&&t]});return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:"New Movie Form"}),this.props.newMovieReducer.fetched&&this.state.redirect?Object(p.jsx)(j.a,{to:"/movies"}):c]})}}]),c}(n.Component),de={onNewMovieSubmit:function(e){var t=e.title,c=e.cover;return function(e){e({type:"NEW_MOVIES",payload:M.a.post("".concat(S,"/movies"),{title:t,cover:c}).then((function(e){return e}))})}},fetchMovie:function(e){return function(t){t({type:"FETCH_MOVIES",payload:M.a.get("".concat(S,"/movies/").concat(e))})}},onUpdateMoviesSubmit:function(e){var t=e.title,c=e.cover,n=e.id;return console.log(n,"action"),function(e){e({type:"UPDATE_MOVIES",payload:M.a.put("".concat(S,"/movies/").concat(n),{title:t,cover:c})})}}},je=Object(l.b)((function(e,t){return{newMovieReducer:e.newMovieReducer,willUpdateMovie:e.moviesReducer.movies.find((function(e){return e.id===t.match.params._id}))}}),de)(se),le=c(245),be=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(f.a,{centered:!0,columns:3,children:Object(p.jsx)(f.a.Column,{children:Object(p.jsx)(B.a,{centered:!0,as:"h2",children:"Bodyguard"})})}),Object(p.jsx)(q.a,{as:"a",color:"red",tag:!0,children:"Upcoming"}),Object(p.jsx)(q.a,{as:"a",children:"$10.00"}),Object(p.jsx)("br",{}),Object(p.jsx)(le.a,{id:"3Z2FxVT6LIE",placeholder:"/images/image-16by9.png",source:"youtube"})]})},he=function(e){Object(s.a)(c,e);var t=Object(d.a)(c);function c(){return Object(a.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(P,{}),Object(p.jsxs)(N.a,{text:!0,children:[Object(p.jsx)(j.b,{exact:!0,path:"/",component:be}),Object(p.jsx)(j.b,{exact:!0,path:"/movies",component:L}),Object(p.jsx)(j.b,{exact:!0,path:"/movies/new",component:je}),Object(p.jsx)(j.b,{exact:!0,path:"/movie/:_id",component:je})]}),Object(p.jsx)(W,{})]})}}]),c}(n.Component),ue=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,255)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),r(e),a(e)}))},ve=c(47),Oe={fetching:!1,fetched:!1,movies:[],error:{}},pe=Object(ve.combineReducers)({moviesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case y:return Object(z.a)(Object(z.a)({},e),{},{fetching:!0,fetched:!1});case C:return Object(z.a)(Object(z.a)({},e),{},{movies:n,fetching:!1,fetched:!0});case I:return Object(z.a)(Object(z.a)({},e),{},{error:n,fetching:!1,fetched:!0});case _:return Object(z.a)(Object(z.a)({},e),{},{fetching:!0,fetched:!1});case D:return Object(z.a)(Object(z.a)({},e),{},{movies:e.movies.filter((function(e){return e.id!==n.id})),fetching:!1,fetched:!0});case T:return Object(z.a)(Object(z.a)({},e),{},{error:n,fetching:!1,fetched:!0});default:return e}},newMovieReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0,c=t.type,n=t.payload;switch(c){case Q:return Object(z.a)(Object(z.a)({},e),{},{fetching:!0,fetched:!1});case X:return Object(z.a)(Object(z.a)({},e),{},{movies:n,fetching:!1,fetched:!0});case ee:return Object(z.a)(Object(z.a)({},e),{},{error:n,fetching:!1,fetched:!0});case te:return Object(z.a)(Object(z.a)({},e),{},{fetching:!0,fetched:!1});case ce:return Object(z.a)(Object(z.a)({},e),{},{movies:n,fetching:!1,fetched:!0});case ne:return Object(z.a)(Object(z.a)({},e),{},{error:n,fetching:!1,fetched:!0});case ie:return Object(z.a)(Object(z.a)({},e),{},{fetching:!0,fetched:!1});case re:return Object(z.a)(Object(z.a)({},e),{},{movies:n,fetching:!1,fetched:!0});case ae:return Object(z.a)(Object(z.a)({},e),{},{error:n,fetching:!1,fetched:!0});default:return e}}}),me=c(156),xe=c(157),fe=c(158),Ee=c.n(fe),ge=c(159),Me=Object(ve.createStore)(pe,Object(xe.composeWithDevTools)(Object(ve.applyMiddleware)(me.a,ge.a,Ee.a)));r.a.render(Object(p.jsx)(O.a,{children:Object(p.jsx)(l.a,{store:Me,children:Object(p.jsx)(he,{})})}),document.getElementById("root")),ue()}},[[229,1,2]]]);
//# sourceMappingURL=main.0b3c00f9.chunk.js.map